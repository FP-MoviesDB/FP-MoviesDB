jQuery(document).ready((function($){function loadPosts(container,data,page){data.page=page,data.action="fp_load_posts","function"==typeof fpLog&&fpLog("JS","Loading posts with data: "+JSON.stringify(data)),$.ajax({url:data.ajax_url,type:"POST",data:data,success:function(response){if(response.success){container.html(response.data.content);var currentPage=page,totalPages=response.data.max_num_pages,$parent=container.closest(".fp-homepage-grid-wrapper-main");$parent.find(".page_number").text(currentPage),currentPage<=1?$parent.find(".pagination-left-pc").css("pointer-events","none"):($parent.find(".pagination-left").css("pointer-events","auto"),$parent.find(".pagination-left-pc").css("pointer-events","auto")),currentPage>=totalPages?$parent.find(".pagination-right-pc").css("pointer-events","none"):($parent.find(".pagination-right").css("pointer-events","auto"),$parent.find(".pagination-right-pc").css("pointer-events","auto"))}else"function"==typeof fpLog&&fpLog("JS","Error loading posts: "+JSON.stringify(response))},error:function(response){"function"==typeof fpLog&&fpLog("JS","Error loading posts: "+JSON.stringify(response))}})}$(".fp-homepage-grid-wrapper-main").each((function(){var $this=$(this),instanceID=$this.data("instance-id"),initialData=fp_homepage_data[instanceID];if(initialData){var $currentPageNumber=$this.find(".page_number-pc");$this.find(".pagination-left").on("click",(function(){var currentPage=parseInt($currentPageNumber.text());currentPage>1&&($this.find(".pagination-left").css("pointer-events","none"),currentPage--,loadPosts($this.find(".fp-homepage-grid"),initialData,currentPage),$currentPageNumber.text(currentPage))})),$this.find(".pagination-right").on("click",(function(){if(parseInt($this.find(".fp-homepage-grid-parent").attr("data-total-pages"))!==parseInt($currentPageNumber.text())){var currentPage=parseInt($currentPageNumber.text());currentPage++,$this.find(".pagination-right").css("pointer-events","none"),loadPosts($this.find(".fp-homepage-grid"),initialData,currentPage),$currentPageNumber.text(currentPage)}else"function"==typeof fpLog&&fpLog("JS","No more pages to load")})),$this.find(".end-tab-item").on("click",(function(){var sortType=$(this).attr("id");"function"==typeof fpLog&&fpLog("JS","Sorting by: "+sortType),initialData.home_data.sort_type=sortType,"function"==typeof fpLog&&fpLog("JS","Initial data: "+JSON.stringify(initialData)),initialData.page=1,loadPosts($this.find(".fp-homepage-grid"),initialData,1),$this.find(".end-tab-item").removeClass("active"),$(this).addClass("active"),$this.find(".page_number").text(1)}))}else"function"==typeof fpLog&&fpLog("JS","Initial data not found for instance ID: "+instanceID)}));var autoSlideInterval,currentSlide=0,totalSlides=$(".slide").length,$sliderWrapper=$(".image-slider-wrapper"),$slides=$(".slide");function moveSlider(){var slideWidth=$sliderWrapper.width(),newTranslateX=-currentSlide*slideWidth;$slides.css({transform:"translateX("+newTranslateX+"px)",transition:"transform 0.5s ease"})}$(".next-slide").click((function(){currentSlide<totalSlides-1?currentSlide++:currentSlide=0,startAutoSlide(),moveSlider()})),$(".prev-slide").click((function(){currentSlide>0?currentSlide--:currentSlide=totalSlides-1,startAutoSlide(),moveSlider()})),moveSlider(),$(window).resize((function(){moveSlider()}));var isInteracting=!1,startPos=0;function startInteraction(e){isInteracting=!0,startPos="touchstart"===e.type?e.touches[0].pageX:e.pageX,$sliderWrapper.css("cursor","grabbing")}function moveInteraction(e){if(isInteracting){var currentPos="touchmove"===e.type?e.touches[0].pageX:e.pageX,distance=currentPos-startPos;Math.abs(distance)>=$sliderWrapper.width()/4&&(currentSlide=distance>0?currentSlide>0?currentSlide-1:totalSlides-1:currentSlide<totalSlides-1?currentSlide+1:0,startAutoSlide(),moveSlider(),startPos=currentPos,isInteracting=!1,$sliderWrapper.css("cursor","grab"))}}function endInteraction(){isInteracting=!1,$sliderWrapper.css("cursor","grab")}function startAutoSlide(){clearInterval(autoSlideInterval),autoSlideInterval=setInterval(advanceSlide,7e3)}function advanceSlide(){currentSlide<totalSlides-1?currentSlide++:currentSlide=0,moveSlider()}$sliderWrapper.mousedown(startInteraction),$(document).mousemove(moveInteraction),$(document).mouseup(endInteraction),$sliderWrapper.on("touchstart",startInteraction),$(document).on("touchmove",moveInteraction),$(document).on("touchend",endInteraction),$sliderWrapper.css("cursor","grab"),startAutoSlide()}));